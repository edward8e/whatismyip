<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>whatismyip</title>
</head>
<body>
    <h1 style="text-align: center;">IP Address Information</h1>
    <h1>Public IP Address: <span id="ip_address"></span></h1>
    <h1>City: <span id="city"></span></h1>
    <h1>Region: <span id="region"></span></h1>
    <h1>Region ISO Code: <span id="region_iso_code"></span></h1>
    <h1>Postal Code: <span id="postal_code"></span></h1>
    <h1>Country: <span id="country"></span></h1>
    <h1>Country Code: <span id="country_code"></span></h1>
    <h1>Continent: <span id="continent"></span></h1>
    <h1>Longitude: <span id="longitude"></span></h1>
    <h1>Latitude: <span id="latitude"></span></h1>
</body>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
    let apiKey = '1be9a6884abd4c3ea143b59ca317c6b2';
    let data = {};
    $.getJSON('https://ipgeolocation.abstractapi.com/v1/?api_key=' + apiKey, function (res) {
        data = res;
    });
    var intervalId = window.setInterval(function () {
        $.getJSON('https://ipgeolocation.abstractapi.com/v1/?api_key=' + apiKey, function (res) {
            data = res;
            console.log(JSON.stringify(res, null, 2));
        });
    }, 3000);

    var updateWindow = window.setInterval(function () {
        $('#ip_address').text(data.ip_address);
        $('#city').text(data.city);
        $('#region').text(data.region);
        $('#region_iso_code').text(data.region_iso_code);
        $('#postal_code').text(data.postal_code);
        $('#country').text(data.country);
        $('#country_code').text(data.country_code);
        $('#continent').text(data.continent);
        $('#longitude').text(data.longitude);
        $('#latitude').text(data.latitude);
    }, 1000);
</script>
</html>